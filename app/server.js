/*! RaylionWebProject 27-12-2014 */
"use strict";var config=require("./config.js"),express=require("express"),app=express(),server=require("http").Server(app),io=require("socket.io")(server),compression=require("compression"),cookieParser=require("cookie-parser"),redis=require("redis"),session=require("express-session"),RedisStore=require("connect-redis")(session),favicon=require("serve-favicon"),morgan=require("morgan"),port=config.server.PORT,host=config.server.HOST;server.listen(port,host,function(){console.log("Server listening on "+host+":"+port)}),app.disable("x-powered-by"),app.use(compression()),app.use(cookieParser()),app.use(session({store:new RedisStore({client:redis.createClient(config.redis.PORT,config.redis.HOST)}),secret:config.sessionSecret,resave:!1,saveUninitialized:!1})),app.use(favicon(__dirname+"/../static/assets/favicon.ico")),app.use(express["static"](__dirname+"/../static/css")),app.use(express["static"](__dirname+"/../static/js")),app.use(express["static"](__dirname+"/../static/assets")),app.use(express["static"](__dirname+"/../static/bower_components")),app.use(morgan("dev")),require("./routes.js")(app);